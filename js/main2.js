/*=============загружаем все комментарии из базы данных=============*/jQuery(function ($) {    $(document).ready(function() {        $.ajax({            url: 'funcs.php',            type: 'POST',            data: '',            dataType: 'json',            success: function (data, status, jgXHR) {                if (data && data.hasOwnProperty('length') && (data.length > 0)) {                    var res = '';                    var len = data.length;                    for (var i = 0; i < len; i++) {                        res = res + '<div class="container">' +                                        '<div class="row">' +                                            '<div class="col-sm-1">'+                                                '<span class="name">' + data[i].name + '</span>' + '</div>' +                                                    '<div class="col-sm-11">' +                                                        '<span class="date">' + data[i].date + '</span>' +'</div>' +                                                    '<div class="col-sm-12 message">' + data[i].text +                                                '</div>' +                                            '</div>' +                                     '</div>'                    }                    $('.content').append(res);                }            }        });    });});window.onload = function (e) {    var button = document.querySelector('.btn');    var input = document.getElementById('input');    var textarea = document.getElementById('textarea');    var form = document.forms.myForm;    function func() {        var form = document.forms.myForm;        var empty = false;        /*=====================проверка заполненных полей =================*/        for (var i = 0; i < form.length; i++) {            if (form.elements[i].type == 'text' || form.elements[i].type == 'textarea') {                if (form.elements[i].value == '') {                    form.elements[i].style.borderColor = "red";                    empty = true;                }            }        }        if (empty) {            alert("Заполните все поля!");        }        /*=====================код для кроссбраузерности====================*/    }    function handler(e) {        e = e || window.event;        if (e.preventDefault) e.preventDefault();        else if (e.returnValue) e.returnValue = false;        else return false;    }    function addEvent(target, type, hendler) {        if (target.addEventListener) {            target.addEventListener(type, hendler, false)        }        else {            target.attachEvent("on" + type, function (e) {                return hendler.call(target, e);            });        }    }    addEvent(button, 'click', handler);    if (button.addEventListener) {        button.addEventListener('click', func, false);    }    else if (button.attachEvent) {        button.attachEvent('onclick', func);    }    addEvent(input, 'keypress', handler2);    function handler2(e) {        e = e || window.event;        if (e.bubbles == true) {            form.elements[0].style.borderColor = "#ffffff";        }    }    addEvent(textarea, 'keypress', handler3);    function handler3(e) {        e = e || window.event;        if (e.bubbles == true) {            form.elements[1].style.borderColor = "#000000";        }    }};jQuery(function ($) {    $('#myButton').click(function (e) {        var result = $('#myForm').serializeArray();/*================= добовляем комментарий =====================*/        $.ajax({            url: 'funcs.php',            type: 'POST',            data: result,            dataType: 'json',            complete: function (jqXHR, status) {                var form = document.forms.myForm;                form.reset();            },            success: function (data, status, jgXHR) {                var data = data[data.length - 1];                    var res = '';                        res = res + '<div class="container">' +                            '<div class="row">' +                                '<div class="col-sm-1">'+                                     '<span class="name">' + data.name + '</span>' + '</div>' +                                        '<div class="col-sm-11">' +                                            '<span class="date">' + data.date + '</span>' +'</div>' +                                        '<div class="col-sm-12 message">' + data.text +                                    '</div>' +                                '</div>' +                            '</div>';                    $('.content').append(res);                }        });    });});